<div *ngIf="project">
    <div class="jumbotron-fluid">
        <div class="container">
            <h3>{{project.title}}</h3>
        </div>
    </div>
    <article class="container m-y-3">
        <div class="row">
            <section class="col-md-8">
                <p>{{project.description}}</p>
                <img class="profile-img" *ngIf="project.user.picture" src="{{project.user.picture+'?s=20'}}"> <a routerLink="/profile/{{project.user_id}}" routerLinkActive="active">{{project.user.name}}</a>
            </section>

            <section class="col-md-4" *ngIf="project.position.length > 0">
                <h4 class="title-border p-b-1">Positions</h4>
                <dl *ngFor="let position of project.position">
                    <dt class="btn btn-sm btn-info btn-gradient-primary"><strong>{{position.skill.name}}</strong></dt>
                    <dd>{{position.description}}</dd>
                </dl>
                <a *ngIf="!isFavorite" (click)="addFavorite()" class="btn btn-outline-secondary"><svg
												class="icon text-danger"><use xlink:href="#icon-favorite"></use></svg> {{project.favorite_count}}</a>
                <a *ngIf="isFavorite" (click)="addFavorite()" class="btn btn-secondary"><svg
												class="icon text-danger"><use xlink:href="#icon-favorite"></use></svg> {{project.favorite_count}}</a>
            </section>
        </div>
		</article>

		<div class="container m-y-3">
				<app-comments [project_id]="project.id"></app-comments>
		</div>

		<aside *ngIf="related && related.length > 0" class="m-y-3">
				<div class="container">
						<ul class="row reset-list">
								<li *ngFor="let project of related" class="col-md-4">
														<h5 class="project__title"><a routerLink="/project/{{project.id}}">
																{{project.title}}
														</a></h5>
														<i class="text-muted project__date"> {{ project.created_at | timeAgo}} </i>
										<p>{{project.description | slice:0:40 }}</p>
										<ul class="list-inline text-xs-center" *ngIf="project.position.length > 0">
												<li class="list-inline-item btn btn-sm btn-info btn-gradient-primary project__skill-item"
														*ngFor="let position of project.position">
														{{position.skill.name}}
												</li>
										</ul>
										<br>
										<div class="project__subinfo">
												<img class="profile-img" *ngIf="project.user.picture" src="{{project.user.picture+'?s=20'}}"><a
														routerLink="/profile/{{project.user_id}}">
												{{project.user.name}}</a>
										</div>
								</li>
						</ul>
				</div>
		</aside>
</div>

<div class="modal hidden-xs-up">
    <app-application [project]="project"></app-application>
</div>