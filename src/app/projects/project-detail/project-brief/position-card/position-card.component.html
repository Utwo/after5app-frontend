<div
  *ngIf="position"
  class="card position__card"
  (mouseenter)="showDetails = true"
  (mouseleave)="showDetails = false"
  [class.position__card-taken]="hasMember && !showDetails"
>
  <div class="card-body text-dark text-center py-3 px-2 px-md-3">
    <div *ngIf="!hasMember || showDetails" class="container-fluid">
      <h3 class="text-muted">{{position.skill.name}}</h3>
      <p>{{position.description}}</p>
    </div>
    <div *ngIf="hasMember && !showDetails">
      <div class="text-center my-3">
        <img *ngIf="member.picture" class="profile-img" src="{{member.picture}}?width=70&height=70&s=70">
      </div>
      <div>
        <p class="text-white">
          <b class="text-success">{{member.name}}</b> has joined the <b>{{position.skill.name}}</b> skill
        </p>
      </div>
    </div>
  </div>
  <button
    *ngIf="myProject === false && !hasMember && !iAppied"
    class="btn btn-success w-100 py-3 text-white card-btn"
    (click)="modal.open()">
    <small>APPLY FOR POSITION</small>
  </button>
  <button
    *ngIf="iAppied"
    class="btn btn-success w-100 py-3 text-white card-btn">
    <small>YOU APPLIED FOR THIS POSITION</small>
  </button>
</div>
<app-apply-modal #modal (onApply)="applicationSent($event)" [position]="position" [project]="project"></app-apply-modal>

